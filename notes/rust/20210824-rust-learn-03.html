<!DOCTYPE HTML>
<html
    lang="zh-Hans" 
    class="rust" 
    dir="ltr"> 
    <head>
        <title>Rust å­¦ä¹  03 - Kevin Stephen&#x27;s Blogs</title> 
        <meta charset="UTF-8">
        <meta name="description" content="æ‰¾åˆ°å±äºè‡ªå·±çš„å…‰">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">
        
         
        <link rel="icon" href="../../favicon.svg">
         
        <link rel="shortcut icon" href="../../favicon.png">
        <link rel="stylesheet" href="../../css/variables.css">
        <link rel="stylesheet" href="../../css/general.css">
        <link rel="stylesheet" href="../../css/chrome.css">

        <link rel="stylesheet"
            href="../../FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="../../fonts/fonts.css">

        <link rel="stylesheet" href="../../highlight.css">
        <link rel="stylesheet" href="../../tomorrow-night.css">
        <link rel="stylesheet" href="../../ayu-highlight.css">

        <link rel="stylesheet" href="../../theme/utils.css">

    </head>
    <body class="sidebar-visible no-js">
        <div id="body-container">
            <script>
                // è·å– root è·¯å¾„
                var path_to_root = "../../";
                // è·å–é»˜è®¤ä¸»é¢˜
                var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches
                    ? "ayu"
                    : "rust";
            </script>
            <script>
                try {
                    var theme = localStorage.getItem("mdbook-theme");
                    var sidebar = localStorage.getItem("mdbook-sidebar");

                    if (theme.startsWith('"') && theme.endsWith('"')) {
                        localStorage.setItem(
                            "mdbook-theme",
                            theme.slice(1, theme.length - 1).trim()
                        );
                    }

                    if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                        localStorage.setItem(
                            "mdbook-sidebar",
                            sidebar.slice(1, sidebar.length - 1).trim()
                        );
                    }
                } catch (e) {}
            </script>
            <script>
                var theme;
                try {
                    theme = localStorage.getItem("mdbook-theme");
                } catch (e) {}
                if (theme === null || theme === undefined) {
                    theme = default_theme;
                }
                var html = document.querySelector("html");
                html.classList.remove("rust");
                html.classList.add(theme);
                var body = document.querySelector("body");
                body.classList.remove("no-js");
                body.classList.add("js");
            </script>

            <input type="checkbox" id="sidebar-toggle-anchor" class="hidden">
            <script>
                var body = document.querySelector("body");
                var sidebar = null;
                var sidebar_toggle = document.getElementById("sidebar-toggle-anchor");
                if (document.body.clientWidth >= 1080) {
                try {
                    sidebar = localStorage.getItem("mdbook-sidebar");
                } catch (e) {}
                    sidebar = sidebar || "visible";
                } else {
                    sidebar = "hidden";
                }
                sidebar_toggle.checked = sidebar === "visible";
                body.classList.remove("sidebar-visible");
                body.classList.add("sidebar-" + sidebar);
            </script>

            <nav id="sidebar" class="sidebar" aria-label="Table of contents">
                <div class="sidebar-scrollbox">
                    <ol class="chapter"><li class="chapter-item "><a href="../../init.html">Init</a></li><li class="chapter-item affix "><li class="part-title">Notes</li><li class="chapter-item expanded "><a href="../../notes/rust/index.html">Rust</a><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../notes/rust/20210605-rust-learn-01.html">Rust å­¦ä¹  01</a></li><li class="chapter-item "><a href="../../notes/rust/20210610-rust-learn-02.html">Rust å­¦ä¹  02</a></li><li class="chapter-item expanded "><a href="../../notes/rust/20210824-rust-learn-03.html" class="active">Rust å­¦ä¹  03</a></li><li class="chapter-item "><a href="../../notes/rust/20211216-rust-learn-04.html">Rust å­¦ä¹  04</a></li><li class="chapter-item "><a href="../../notes/rust/20220512-rust-learn-05.html">Rust å­¦ä¹  05</a></li><li class="chapter-item "><a href="../../notes/rust/20220514-rust-learn-06.html">Rust å­¦ä¹  06</a></li><li class="chapter-item "><a href="../../notes/rust/20220520-rust-learn-07.html">Rust å­¦ä¹  07</a></li><li class="chapter-item "><a href="../../notes/rust/20220522-rust-learn-08.html">Rust å­¦ä¹  08</a></li><li class="chapter-item "><a href="../../notes/rust/20220523-rust-learn-09.html">Rust å­¦ä¹  09</a></li><li class="chapter-item "><a href="../../notes/rust/20220611-rust-learn-10.html">Rust å­¦ä¹  10</a></li><li class="chapter-item "><a href="../../notes/rust/20220619-rust-learn-11.html">Rust å­¦ä¹  11</a></li><li class="chapter-item "><a href="../../notes/rust/20220619-rust-learn-project-01.html">Rust å­¦ä¹  å®ä¾‹ 01</a></li><li class="chapter-item "><a href="../../notes/rust/20220623-rust-learn-12.html">Rust å­¦ä¹  12</a></li><li class="chapter-item "><a href="../../notes/rust/20220624-rust-learn-13.html">Rust å­¦ä¹  13</a></li><li class="chapter-item "><a href="../../notes/rust/20220925-rust-learn-14.html">Rust å­¦ä¹  14</a></li><li class="chapter-item "><a href="../../notes/rust/20220925-rust-learn-15.html">Rust å­¦ä¹  15</a></li><li class="chapter-item "><a href="../../notes/rust/20221030-rust-learn-final.html">Rust å­¦ä¹  final</a></li><li class="chapter-item "><a href="../../notes/rust/20221030-rust-learn-project-02.html">Rust å­¦ä¹  å®ä¾‹ 02</a></li></ol></li><li class="chapter-item "><a href="../../notes/postgresql/index.html">PostgreSQL</a><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../notes/postgresql/20230502-psql-learn-01.html">PostgreSQL å­¦ä¹  01</a></li><li class="chapter-item "><a href="../../notes/postgresql/20231024-psql-learn-02.html">PostgreSQL å­¦ä¹  02</a></li><li class="chapter-item "><a href="../../notes/postgresql/20231110-psql-learn-03.html">PostgreSQL å­¦ä¹  03</a></li></ol></li><li class="chapter-item "><a href="../../notes/typechallenges/index.html">Type Challenges</a><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../notes/typechallenges/20230425-type-challenges-01.html">TypeScript ç±»å‹ä½“æ“ 01</a></li><li class="chapter-item "><a href="../../notes/typechallenges/20230428-type-challenges-02.html">TypeScript ç±»å‹ä½“æ“ 02</a></li></ol></li><li class="chapter-item "><li class="part-title">Miscellany</li><li class="chapter-item "><a href="../../miscellany/coding/index.html">Coding</a><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../miscellany/coding/20210604-scope-of-if-statement.html">if è¯­å¥çš„ä½œç”¨åŸŸ</a></li><li class="chapter-item "><a href="../../miscellany/coding/20221026-parse-math-in-c.html">C è¯­è¨€æ•°å­¦è§£æå™¨</a></li><li class="chapter-item "><a href="../../miscellany/coding/20231107-clash-system-agent.html">Cğœ†ash ç³»ç»Ÿä»£ç†</a></li><li class="chapter-item "><a href="../../miscellany/coding/20240228-use-giscus-in-mdbook.html">åœ¨ mdBook ä¸­ä½¿ç”¨ giscus æœåŠ¡</a></li></ol></li><li class="chapter-item "><a href="../../miscellany/study/index.html">Study</a><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../miscellany/study/20221108-qiskit-linear-algebra.html">qiskit çº¿æ€§ä»£æ•°</a></li><li class="chapter-item "><a href="../../miscellany/study/20221111-qiskit-Deutsch-Jozsa-algorithm.html">qiskit Deutsch-Jozsa ç®—æ³•</a></li></ol></li><li class="chapter-item "><a href="../../miscellany/life/index.html">Life</a><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../miscellany/life/20230411-about-life.html">è¯´è¯´ä»¥åçš„æ‰“ç®—ç½¢</a></li><li class="chapter-item "><a href="../../miscellany/life/20230715-about-job.html">è°ˆè°ˆæœ€è¿‘çš„å·¥ä½œçŠ¶æ€</a></li><li class="chapter-item "><a href="../../miscellany/life/20230915-end-of-summer.html">æš‘å‡ç»“æŸäº†</a></li><li class="chapter-item "><a href="../../miscellany/life/20231020-new-life.html">æ–°çš„ç”Ÿæ´»</a></li><li class="chapter-item "><a href="../../miscellany/life/20240120-busy-life.html">å¿™å¿™ç¢Œç¢Œ</a></li><li class="spacer"></li></ol></li><li class="chapter-item "><a href="../../about.html">About</a></li></ol>
                </div>
                <div id="sidebar-resize-handle" class="sidebar-resize-handle">
                    <div class="sidebar-resize-indicator"></div>
                </div>
            </nav>

            <script>
                var sidebarScrollbox = document.querySelector("#sidebar .sidebar-scrollbox");
                sidebarScrollbox.addEventListener(
                    "click",
                    function (e) {
                        if (e.target.tagName === "A") {
                            sessionStorage.setItem("sidebar-scroll", sidebarScrollbox.scrollTop);
                        }
                    },
                    { passive: true }
                );
                var sidebarScrollTop = sessionStorage.getItem("sidebar-scroll");
                sessionStorage.removeItem("sidebar-scroll");
                if (sidebarScrollTop) {
                    // preserve sidebar scroll position when navigating via links within sidebar
                    sidebarScrollbox.scrollTop = sidebarScrollTop;
                } else {
                    // scroll sidebar to current active section when navigating via "next/previous chapter" buttons
                    var activeSection = document.querySelector("#sidebar .active");
                    if (activeSection) {
                        activeSection.scrollIntoView({ block: "center" });
                    }
                }
            </script>

            <div id="page-wrapper" class="page-wrapper">
                <div class="page">
                                        <div id="menu-bar-hover-placeholder"></div>
                    <div id="menu-bar" class="menu-bar sticky">
                        <div class="left-buttons">
                            <label id="sidebar-toggle" class="icon-button"
                                for="sidebar-toggle-anchor"
                                title="Toggle Table of Contents"
                                aria-label="Toggle Table of Contents"
                                aria-controls="sidebar">
                                <i class="fa fa-bars"></i>
                            </label>
                            <button id="theme-toggle" class="icon-button"
                                type="button" title="Change theme"
                                aria-label="Change theme" aria-haspopup="true"
                                aria-expanded="false"
                                aria-controls="theme-list">
                                <i class="fa fa-paint-brush"></i>
                            </button>
                            <ul id="theme-list" class="theme-popup"
                                aria-label="Themes" role="menu">
                                <li role="none"><button role="menuitem"
                                        class="theme"
                                        id="light">Light</button></li>
                                <li role="none"><button role="menuitem"
                                        class="theme"
                                        id="rust">Rust</button></li>
                                <li role="none"><button role="menuitem"
                                        class="theme"
                                        id="coal">Coal</button></li>
                                <li role="none"><button role="menuitem"
                                        class="theme"
                                        id="navy">Navy</button></li>
                                <li role="none"><button role="menuitem"
                                        class="theme" id="ayu">Ayu</button></li>
                            </ul>
                            <button id="search-toggle" class="icon-button"
                                type="button" title="Search. (Shortkey: s)"
                                aria-label="Toggle Searchbar"
                                aria-expanded="false" aria-keyshortcuts="S"
                                aria-controls="searchbar">
                                <i class="fa fa-search"></i>
                            </button>
                        </div>
                        <h1 class="menu-title">Kevin Stephen&#x27;s Blogs</h1>
                        <div class="right-buttons">
                            <a href="https://github.com/kands-code/kands-code.github.io"
                                title="Git repository"
                                aria-label="Git repository">
                                <i id="git-repository-button"
                                    class="fa fa-github"></i>
                            </a>
                            <a href="https://github.com/kands-code/kands-code.github.io/edit/repo-src/src/src/notes/rust/20210824-rust-learn-03.md"
                                title="Suggest an edit"
                                aria-label="Suggest an edit">
                                <i id="git-edit-button" class="fa fa-edit"></i>
                            </a>
                        </div>
                    </div>
                    <div id="search-wrapper" class="hidden">
                        <form id="searchbar-outer" class="searchbar-outer">
                            <input type="search" id="searchbar" name="searchbar"
                                placeholder="searching..."
                                aria-controls="searchresults-outer"
                                aria-describedby="searchresults-header">
                        </form>
                        <div id="searchresults-outer"
                            class="searchresults-outer hidden">
                            <div id="searchresults-header"
                                class="searchresults-header"></div>
                            <ul id="searchresults">
                            </ul>
                        </div>
                    </div>
                    <script>
                        document
                            .getElementById("sidebar-toggle")
                            .setAttribute("aria-expanded", sidebar === "visible");
                        document
                            .getElementById("sidebar")
                            .setAttribute("aria-hidden", sidebar !== "visible");
                        Array.from(document.querySelectorAll("#sidebar a")).forEach(function (link) {
                            link.setAttribute("tabIndex", sidebar === "visible" ? 0 : -1);
                        });
                    </script>

                    <div id="content" class="content">
                        <main><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css" integrity="sha384-AfEj0r4/OFrOo5t7NnNe46zW/tFgW6x/bCJG8FqQCEo3+Aro6EYUG4+cU+KJWu/X" crossorigin="anonymous">
<h1 id="rust-å­¦ä¹ -03"><a class="header" href="#rust-å­¦ä¹ -03">Rust å­¦ä¹  03</a></h1>
<p class="archive-time">archive time: 2021-08-24</p>
<p class="sp-comment">ç°åœ¨å¼€å§‹è·Ÿéšæ¨æ—­å¤§ä½¬çš„è§†é¢‘å¼€å§‹å­¦ä¹  Rustï¼Œè¿›åº¦ä¸€è‡´</p>
<p>ç”±äºæˆ‘æ‰‹ä¸Šçš„è¿™æœ¬ä¹¦æ˜¯è‹±æ–‡çš„ï¼Œå¤ªç´¯äº†ï¼Œè¿˜æ˜¯çœ‹è§†é¢‘æ¯”è¾ƒå¿«ï¼Œæ‰€ä»¥ä»Šå¤©å¼€å§‹æˆ‘å°±æ ¹æ® <a href="https://www.bilibili.com/video/BV1hp4y1k7SV">æ¨æ—­å¤§ä½¬çš„ rust è§†é¢‘</a> å¼€å§‹å­¦ Rustï¼Œè¿›åº¦ç´§è·Ÿä¸Šä¸€æœŸåšå®¢ï¼Œæ¥çœ‹çœ‹ Rust ä¸­çš„å˜é‡ç±»å‹</p>
<h2 id="æ ‡é‡ç±»å‹"><a class="header" href="#æ ‡é‡ç±»å‹">æ ‡é‡ç±»å‹</a></h2>
<p>Rust ä¸­ï¼Œæ¯ä¸ªå€¼éƒ½æœ‰ä¸€ä¸ªç¡®å®šçš„ç±»å‹ï¼Œæ ¹æ®æ¯ä¸ªç±»å‹ï¼ŒRust æœ‰ä¸åŒçš„æ–¹å¼æ¥å¤„ç†è¿™ä¸ªå€¼</p>
<p>ä¸€èˆ¬è€Œè¨€ï¼ŒRust çš„ç¼–è¾‘å™¨å¯ä»¥è‡ªåŠ¨æ¨æ–­å‡ºå˜é‡çš„ç±»å‹ï¼Œæ‰€ä»¥ä¸€èˆ¬ä¸éœ€è¦æ ‡å‡ºç±»å‹ï¼Œä½†æ˜¯æœ‰æ—¶å€™éœ€è¦æˆ‘ä»¬æ‰‹åŠ¨æ ‡æ˜å˜é‡çš„ç±»å‹ï¼Œä¾‹å¦‚</p>
<pre><code class="language-rust">fn main() {
    let guess = match "42".parse::&lt;u32&gt;() {
        Ok(num) =&gt; num,
        Err(_) =&gt; {
            println!("æ•°æ®è½¬æ¢å¤±è´¥ï¼");
            0
        }
    }
}</code></pre>
<p>è¿™é‡Œ <code>parse()</code> å°±è¦æ±‚æˆ‘ä»¬ç»™å‡ºå…·ä½“çš„æ•°æ®ç±»å‹</p>
<blockquote>
<p>parse can parse any type that implements the FromStr trait</p>
</blockquote>
<p>æ‰€è°“çš„æ ‡é‡ç±»å‹ï¼Œå°±æ˜¯ä¸€ä¸ªå•ä¸ªçš„å€¼å¯¹åº”çš„ç±»å‹ï¼Œå¸¸è§çš„æœ‰ <em>æ•´æ•°ç±»å‹</em>, <em>æµ®ç‚¹ç±»å‹</em>, <em>å¸ƒå°”ç±»å‹</em>, <em>å­—ç¬¦ç±»å‹</em></p>
<h3 id="æ•´æ•°ç±»å‹"><a class="header" href="#æ•´æ•°ç±»å‹">æ•´æ•°ç±»å‹</a></h3>
<p>Rust ä¸­ç±»å‹æœ‰å¾ˆå¤šï¼Œæ•´æ•°ç±»å°±æœ‰è¯¸å¦‚ <code>i8</code>, <code>u32</code>, <code>i64</code> ç­‰ç­‰ï¼Œä» <code>8</code> åˆ° <code>128</code> ä»¥åŠ <code>arch</code>ï¼Œåˆ†åˆ«æœ‰æœ‰ç¬¦å·å’Œæ— ç¬¦å·ä¸¤ç§ï¼Œå…±è®¡ <strong>12 ç§</strong> æ•´æ•°ç±»å‹ï¼Œæ—¥å¸¸ï¼Œ<code>i32</code> å’Œ <code>u32</code> å°±è¶³å¤Ÿäº†</p>
<p>è€Œ <code>arch</code> å¯¹åº”çš„æ˜¯ <code>isize</code> å’Œ <code>usize</code> ä¸¤ç§ï¼Œä¸ç¨‹åºè¿è¡Œçš„è®¡ç®—æœºçš„æ¶æ„ç›¸å…³ï¼Œå¦‚æœæ˜¯ 32 ä½è®¡ç®—æœºï¼Œé‚£å°±ç­‰åŒäº <code>i32</code> å’Œ <code>u32</code></p>
<p>æ•°æ®çš„èŒƒå›´ï¼Œæœ‰ç¬¦å·çš„ä¸º<span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">âˆ’</span><span class="mopen">(</span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6644em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1</span><span class="mclose">)</span></span></span></span> åˆ° <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8974em;vertical-align:-0.0833em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mbin mtight">âˆ’</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span>ï¼Œè€Œæ— ç¬¦å·çš„åˆ™æ˜¯ <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">0</span></span></span></span> åˆ° <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7477em;vertical-align:-0.0833em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6644em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span></span></p>
<h4 id="æ•´æ•°å­—é¢å€¼"><a class="header" href="#æ•´æ•°å­—é¢å€¼">æ•´æ•°å­—é¢å€¼</a></h4>
<p>ä¸€èˆ¬è€Œè¨€ï¼Œæ•´æ•°å¯ä»¥ç”¨ä¸€ä¸‹æ–¹å¼è¡¨ç¤º</p>
<div class="table-wrapper"><table><thead><tr><th style="text-align: center">å­—é¢å€¼ç±»å‹</th><th style="text-align: center">ä¾‹å­</th></tr></thead><tbody>
<tr><td style="text-align: center">åè¿›åˆ¶</td><td style="text-align: center">98_222</td></tr>
<tr><td style="text-align: center">åå…­è¿›åˆ¶</td><td style="text-align: center">0xfff</td></tr>
<tr><td style="text-align: center">å…«è¿›åˆ¶</td><td style="text-align: center">0o777</td></tr>
<tr><td style="text-align: center">äºŒè¿›åˆ¶</td><td style="text-align: center">0b1111_0000</td></tr>
<tr><td style="text-align: center">å­—èŠ‚ (ä»… u8 ç±»å‹)</td><td style="text-align: center">bâ€™Aâ€™</td></tr>
</tbody></table>
</div>
<p>è¦æ³¨æ„ï¼Œå­—èŠ‚ç±»å‹åªèƒ½æ˜¯ <code>u8</code> ç±»å‹ï¼Œè¿˜è¦æ³¨æ„ï¼Œæ•°å­—é—´å¯ä»¥ä½¿ç”¨ä¸‹åˆ’çº¿ <code>_</code> æ¥éš”å¼€ï¼Œå¢åŠ å¯è¯»æ€§</p>
<p>é™¤äº†å­—èŠ‚å­—é¢é‡å¤–ï¼Œéƒ½å¯ä»¥ä½¿ç”¨ç±»å‹åç¼€æ¥è¡¨æ˜ç±»å‹ï¼Œä¾‹å¦‚ <code>67u8</code>ï¼Œæ•´æ•°ç±»å‹çš„é»˜è®¤ç±»å‹æ˜¯ <code>i32</code></p>
<h4 id="æ•´æ•°æº¢å‡º"><a class="header" href="#æ•´æ•°æº¢å‡º">æ•´æ•°æº¢å‡º</a></h4>
<p>Rust å¯¹äºä¸åŒæ¨¡å¼ä¸‹çš„æº¢å‡ºæœ‰ä¸ä¸€æ ·çš„å¤„ç†æ–¹å¼ï¼Œåœ¨ <code>Debug</code> æ¨¡å¼ä¸‹ï¼Œä¹Ÿå°±æ˜¯é»˜è®¤æ¨¡å¼ä¸‹ï¼Œæ•´æ•°ç±»å‹çš„æº¢å‡ºä¼šå¯¼è‡´ Rust ç¨‹åºè¿”å› <code>panic</code> å¯¼è‡´ç¨‹åºæŠ¥é”™åå¼ºåˆ¶ç»“æŸ</p>
<p>è€Œå¯¹äºå‘å¸ƒ (release) æ¨¡å¼ï¼Œä¹Ÿå°±æ˜¯ç¼–è¯‘æ—¶ä½¿ç”¨ <code>--release</code> é€‰é¡¹ï¼ŒRust å¯¹äºæ•´æ•°æº¢å‡ºä¼šä½¿ç”¨ <strong>ç¯ç»•</strong> å¤„ç†ï¼Œå³å¯¹äº <code>u8</code> ç±»å‹ï¼Œ<code>256</code> ä¼šå˜æˆ <code>0</code>ï¼Œè€Œ <code>257</code> ä¼šå˜æˆ <code>1</code></p>
<h3 id="æµ®ç‚¹ç±»å‹"><a class="header" href="#æµ®ç‚¹ç±»å‹">æµ®ç‚¹ç±»å‹</a></h3>
<p>æµ®ç‚¹æ•°æœ‰ä¸¤ç§åŸºæœ¬ç±»å‹ï¼Œ<code>f32</code> å’Œ <code>f64</code>ï¼Œé»˜è®¤æ˜¯ <code>f64</code></p>
<pre><code class="language-rust">let some_float = 64.9f32;</code></pre>
<h3 id="å¸ƒå°”ç±»å‹"><a class="header" href="#å¸ƒå°”ç±»å‹">å¸ƒå°”ç±»å‹</a></h3>
<p>å¸ƒå°”ç±»å‹å°±åªæœ‰ä¸¤ä¸ªå€¼ï¼Œ<code>true</code> å’Œ <code>false</code>ï¼Œåˆ†åˆ«å ç”¨ä¸€ä¸ªå­—èŠ‚å¤§å°ï¼Œç¬¦å·æ˜¯ <code>bool</code></p>
<pre><code class="language-rust">let t = true;
let f: bool = false;</code></pre>
<h3 id="å­—ç¬¦ç±»å‹"><a class="header" href="#å­—ç¬¦ç±»å‹">å­—ç¬¦ç±»å‹</a></h3>
<p>å­—ç¬¦ç±»å‹å ç”¨ 4 ä¸ªå­—ç¬¦ï¼Œé»˜è®¤ <code>utf8</code> å­—ç¬¦é›†ï¼Œå­—é¢å€¼ä½¿ç”¨å•å¼•å·è¡¨ç¤º</p>
<pre><code class="language-rust">let z: char = 'ğŸ‚'</code></pre>
<h2 id="å¤åˆç±»å‹"><a class="header" href="#å¤åˆç±»å‹">å¤åˆç±»å‹</a></h2>
<p>å¤åˆç±»å‹å°±æ˜¯å¤šä¸ªå€¼çš„ç±»å‹ï¼Œ<code>Rust</code> ä¸­çš„åŸºç¡€å¤åˆç±»å‹å°±æ˜¯ <code>Array</code> å’Œ <code>Tuple</code></p>
<h3 id="å…ƒç»„"><a class="header" href="#å…ƒç»„">å…ƒç»„</a></h3>
<p>å…ƒç»„å¯ä»¥å­˜å‚¨å¤šä¸ªç±»çš„å¤šä¸ªå€¼ï¼Œåˆ›å»º <code>Tuple</code> å¯ä»¥ä½¿ç”¨åœ†æ‹¬å·åˆ›å»º</p>
<pre><code class="language-rust">let tup: (u32, f32, u8) = (500, 5.4, 1);
println!("{}, {}, {}", tup.0, tup.1, tup.2);</code></pre>
<p>å…ƒç»„å¯ä»¥é€šè¿‡ç‚¹æ¥å–å€¼ï¼Œä» 0 å¼€å§‹è®¡æ•°ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥é€šè¿‡æ¨¡å¼åŒ¹é…æ¥è§£æ„ (destructure) æå–å€¼</p>
<pre><code class="language-rust">let tup: (u32, f32, u8) = (500, 5.4, 1);
let (x, y, z) = tup;
println!("{}, {}, {}", x, y, z);</code></pre>
<p>ä½†æ˜¯ rust ä¸­å…ƒç»„é‡Œçš„å€¼æ˜¯å¯ä»¥ä¿®æ”¹çš„ï¼Œå¦‚æœä½ çš„å…ƒç»„çš„å®šä¹‰æ˜¯ <code>mut</code> çš„è¯</p>
<pre><code class="language-rust">fn main() {
    let mut tup = ("hello", 12, 'k');
    tup.1 = 10;
    println!("{}, {}, {}", tup.0, tup.1, tup.2);
}</code></pre>
<p>è¾“å‡ºå¦‚ä¸‹</p>
<pre><code>hello, 10, k
</code></pre>
<h3 id="æ•°ç»„"><a class="header" href="#æ•°ç»„">æ•°ç»„</a></h3>
<p>æ•°ç»„ç›¸è¾ƒäºå…ƒç»„ï¼Œæ•°ç»„çš„å…ƒç´ ç±»å‹å¿…é¡»è¦ä¸€è‡´ï¼Œè€Œä¸”é•¿åº¦ä¹Ÿæ˜¯ä¸å¯å˜çš„</p>
<pre><code class="language-rust">let arr = [1, 2, 3, 4, 5];</code></pre>
<p>å¦‚æœä½ æƒ³ä½¿ä½ çš„æ•°æ®å­˜åœ¨æ ˆå†…å­˜ï¼Œè€Œéå †å†…å­˜ä¸Šï¼Œå¯ä»¥ä½¿ç”¨æ•°ç»„ï¼Œæˆ–è€…ä¿è¯æœ‰å›ºå®šæ•°é‡çš„å…ƒç´ ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨æ•°ç»„</p>
<p>ç±»ä¼¼çš„ç±»å‹è¿˜æœ‰ <code>Vector</code>ï¼Œ<code>Vector</code> æ¯”æ•°ç»„çµæ´»ï¼Œè€Œä¸” <code>Vector</code> é•¿åº¦å¯å˜ï¼Œå¦‚æœä¸ç¡®å®šåº”è¯¥æ˜¯ä½¿ç”¨æ•°ç»„è¿˜æ˜¯å‘é‡ï¼Œé‚£å°±å°½é‡ä½¿ç”¨ <code>Vector</code></p>
<p>æ•°ç»„ç±»å‹ä½¿ç”¨ <code>[type : length]</code> è¡¨ç¤ºï¼Œä¾‹å¦‚ <code>[i32 : 4]</code></p>
<p>è¿˜å¯ä»¥ä½¿ç”¨ <code>[default ; length]</code> çš„æ–¹å¼æ¥è¡¨ç¤ºä¸€ä¸ª <code>length</code> é•¿åº¦çš„å…¨æ˜¯ <code>default</code> çš„æ•°ç»„ï¼Œä¾‹å¦‚ <code>let a = [3 ; 3]</code>ï¼Œè¿™é‡Œ <code>a</code> å°±è¡¨ç¤º <code>[3, 3, 3]</code> è¿™æ ·ä¸€ä¸ªæ•°ç»„</p>
<h4 id="è®¿é—®æ•°ç»„å…ƒç´ "><a class="header" href="#è®¿é—®æ•°ç»„å…ƒç´ ">è®¿é—®æ•°ç»„å…ƒç´ </a></h4>
<p>æ•°ç»„æ˜¯åœ¨<strong>æ ˆ</strong>ä¸Šåˆ†é…çš„å•ä¸ªå—çš„å†…å­˜ï¼Œå¯ä»¥ä½¿ç”¨ç´¢å¼•æ¥è®¿é—®æ•°ç»„å…ƒç´ </p>
<pre><code class="language-rust">let fst = a[0];
let sec = a[0];</code></pre>
<p>å¦‚æœè®¿é—®ç´¢å¼•è¶…å‡ºæ•°ç»„è¾¹ç•Œï¼Œå¦‚æœè¿™ç§è¶Šç•Œå¹¶ä¸ <em>æ˜¾ç„¶</em>ï¼Œè¿™æ—¶å€™ç¼–è¯‘æ—¶<strong>å¹¶ä¸ä¼š</strong>æŠ¥é”™ï¼Œä½†æ˜¯è¿è¡Œæ—¶ä¼šå‡ºç°æ•°ç»„è¶Šç•Œçš„é”™è¯¯ï¼Œpanic ç»“æŸç¨‹åº</p>
<pre><code class="language-rust">let index = [13, 14, 15];
let nums = [1; 12];
// ç¼–è¯‘æ—¶ä¸ä¼šæŠ¥é”™
println!("{}", num[index[0]]);</code></pre>
<h2 id="å‡½æ•°"><a class="header" href="#å‡½æ•°">å‡½æ•°</a></h2>
<p>å‡½æ•°å¯ä»¥ä½¿ç”¨ <code>fn</code> å…³é”®å­—æ¥å®šä¹‰ï¼Œé»˜è®¤ä½¿ç”¨è›‡å½¢å‘½åæ³•ï¼Œéƒ½æ˜¯å°å†™ï¼Œé€šè¿‡ä¸‹åˆ’çº¿åˆ†éš”</p>
<pre><code class="language-rust">fn say_hello() {
    println!("hello");
}</code></pre>
<p>æ­¤å‡½æ•°çš„è¿”å›å€¼æ˜¯ä¸€ä¸ªç‰¹æ®Šå€¼ <em>unit</em> <code>()</code></p>
<p>å¦‚æœå¸¦å‚æ•°ï¼Œå¯ä»¥é€šè¿‡ç­¾åæ¥å®šä¹‰ï¼Œå‡½æ•°è¿”å›å€¼ç±»å‹éœ€è¦ä½¿ç”¨ <code>-&gt;</code> æ¥è¡¨ç¤º</p>
<pre><code class="language-rust">fn add2(x: i32) -&gt; i32 {
    return x + 2;
}</code></pre>
<p>é»˜è®¤æœ€åä¸€ä¸ªè¡¨è¾¾å¼çš„å€¼å°±æ˜¯å‡½æ•°çš„å€¼</p>
<pre><code class="language-rust">fn five() -&gt; i32 {
    5
}</code></pre>
<h2 id="æ³¨é‡Š"><a class="header" href="#æ³¨é‡Š">æ³¨é‡Š</a></h2>
<p><code>Rust</code> é‡Œæ³¨é‡Šå’Œ <code>C</code> ç±»ä¼¼ï¼Œå¯ä»¥é€šè¿‡ <code>//</code> å’Œ <code>/* */</code> æ¥è¡¨ç¤º</p>
<hr />
<p>å¥½ï¼Œä»Šå¤©çš„ç¬”è®°åˆ°æ­¤ç»“æŸ</p>
</main>
                        <nav class="nav-wrapper" aria-label="Page navigation">
                            <a rel="prev" href="../../notes/rust/20210610-rust-learn-02.html"
                                class="mobile-nav-chapters previous"
                                title="Previous chapter"
                                aria-label="Previous chapter"
                                aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>
                            <a rel="next prefetch"
                                href="../../notes/rust/20211216-rust-learn-04.html"
                                class="mobile-nav-chapters next"
                                title="Next chapter" aria-label="Next chapter"
                                aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>
                            <div style="clear: both"></div>
                        </nav>
                    </div>
                </div>
                <div class="giscus-comment">
                </div>
                <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../../notes/rust/20210610-rust-learn-02.html"
                        class="nav-chapters previous" title="Previous chapter"
                        aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>
                    <a rel="next prefetch" href="../../notes/rust/20211216-rust-learn-04.html"
                        class="nav-chapters next" title="Next chapter"
                        aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
                </nav>
            </div>
            <script>
                window.playground_copyable = true;
            </script>
            <script src="../../elasticlunr.min.js"></script>
            <script src="../../mark.min.js"></script>
            <script src="../../searcher.js"></script>
            <script src="../../clipboard.min.js"></script>
            <script src="../../highlight.js"></script>
            <script src="../../book.js"></script>
            <script src="../../theme/giscus.js"></script>
        </div>
    </body>
</html>
